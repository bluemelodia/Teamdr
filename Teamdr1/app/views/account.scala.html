<!DOCTYPE HTML>
<html>
    <head>
        <title>Login</title>
        <link rel="stylesheet" href="http://cdn.webix.com/edge/webix.css" type="text/css">
        <script src="http://cdn.webix.com/edge/webix.js" type="text/javascript"></script>
        <script src="https://code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script>
        <script type="text/javascript">
        </script>
    </head>
    <body>
        <script type="text/javascript">

        function signup() {
            var credentials = $$("myform").getValues();
            $.ajax({
                    url: '/signup',
                    type: 'POST',
                    dataType: 'json',
                    data: JSON.stringify(credentials),
                    contentType: 'application/json',
                    success: function(data, textStatus, jgXHR) {
                        alert("Sign up success.");
                        location.href = '/profile';
                    }, error: function(request, status, error) {
                        alert(request.responseText);
                    }
            });
        }

         webix.ready(function () {
                webix.ui({
                    view:"form",
                    id: "myform",
                    width: 600,
                    elements:[
                        { view:"fieldset", label:"Sign Up", body:{
                            rows:[
                                { name:"username", view:"text", label:"Username (1-25 alphanumeric chars)", labelWidth:250, attributes:{ maxlength :25 }},
                                { name:"password", view:"text", type:"password", label:"Password (1-25 alphanumeric chars)", labelWidth:250, attributes:{ maxlength :25 }},
                                { name:"email", view:"text", label:"Email (optional)", labelWidth:250, attributes:{ maxlength :40 }}
                            ]
                        }},
                        { margin:5, cols:[
                                {id:"btnLogin", view:"button", value:"Login", click:"location.href='/login'"},
                                {id:"btnSignUp", view:"button", type:"form", value:"Sign Up", click:"signup()"}
                            ]
                        }
                ]
            });
        });
        </script>
    </body>
</html>